$(function(){var e,t=$("#container"),n=$("#car"),a=$("#car_1"),r=$("#car_2"),i=$("#car_3"),s=$("#car_4"),o=$("#car_5"),c=$("#car_6"),m=$("#car_7"),f=$("#car_8"),u=$("#line_1"),p=$("#line_2"),l=$("#line_3"),A=$("#line_4"),F=$("#line_5"),I=$("#line_6"),_=$("#restart_div"),d=$("#restart"),h=$("#score"),q=(parseInt(t.css("left")),parseInt(t.width())),v=parseInt(t.height()),k=parseInt(n.width()),g=parseInt(n.height()),w=!1,y=1,x=2,C=5,H=!1,W=!1,D=!1,M=!1;function b(){!1===w&&parseInt(n.css("left"))>0&&(n.css("left",parseInt(n.css("left"))-5),W=requestAnimationFrame(b))}function j(){!1===w&&parseInt(n.css("left"))<q-k&&(n.css("left",parseInt(n.css("left"))+5),H=requestAnimationFrame(j))}function z(){!1===w&&parseInt(n.css("top"))>0&&(n.css("top",parseInt(n.css("top"))-3),D=requestAnimationFrame(z))}function B(){!1===w&&parseInt(n.css("top"))<v-g&&(n.css("top",parseInt(n.css("top"))+3),M=requestAnimationFrame(B))}function E(e){var t=parseInt(e.css("top"));if(t>v){t=-200;var n=parseInt(Math.random()*(q-k));e.css("left",n)}e.css("top",t+x)}function G(e){var t=parseInt(e.css("top"));t>v&&(t=-300),e.css("top",t+C)}function J(e,t){var n=e.offset().left,a=e.offset().top,r=a+e.outerHeight(!0),i=n+e.outerWidth(!0),s=t.offset().left,o=t.offset().top,c=t.outerHeight(!0),m=t.outerWidth(!0);return!(r<o||a>o+c||i<s||n>s+m)}$(document).on("keydown",function(e){if(!1===w){var t=e.keyCode;37===t&&!1===W?W=requestAnimationFrame(b):39===t&&!1===H?H=requestAnimationFrame(j):38===t&&!1===D?D=requestAnimationFrame(z):40===t&&!1===M&&(M=requestAnimationFrame(B))}}),$(document).on("keyup",function(e){if(!1===w){var t=e.keyCode;37===t?(cancelAnimationFrame(W),W=!1):39===t?(cancelAnimationFrame(H),H=!1):38===t?(cancelAnimationFrame(D),D=!1):40===t&&(cancelAnimationFrame(M),M=!1)}}),e=requestAnimationFrame(function t(){if(J(n,a)||J(n,r)||J(n,i)||J(n,s)||J(n,o)||J(n,c)||J(n,m)||J(n,f))return w=!0,cancelAnimationFrame(e),cancelAnimationFrame(H),cancelAnimationFrame(W),cancelAnimationFrame(D),cancelAnimationFrame(M),_.slideDown(),void d.focus();y++;y%20==0&&h.text(parseInt(h.text())+1);y%500==0&&(x+=1.5,C++);E(a);E(r);E(i);E(s);E(o);E(c);E(m);E(f);G(u);G(p);G(l);G(A);G(F);G(I);e=requestAnimationFrame(t)}),d.click(function(){location.reload()})});