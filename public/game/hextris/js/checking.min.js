function search(o,e){for(var l=0;l<o.length;l++)if(o[l][0]==e[0]&&o[l][1]==e[1])return!0;return!1}function floodFill(o,e,l,t){if(void 0!==o.blocks[e]&&void 0!==o.blocks[e][l])for(var i=o.blocks[e][l].color,s=-1;s<2;s++)for(var r=-1;r<2;r++)if(Math.abs(s)!=Math.abs(r)){var n=(e+s+o.sides)%o.sides,c=l+r;void 0!==o.blocks[n]&&void 0!==o.blocks[n][c]&&o.blocks[n][c].color==i&&!1===search(t,[n,c])&&0===o.blocks[n][c].deleted&&(t.push([n,c]),floodFill(o,n,c,t))}}function consolidateBlocks(o,e,l){var t=[],i=[],s=[];if(i.push([e,l]),floodFill(o,e,l,i),!(i.length<3)){var r;for(r=0;r<i.length;r++){var n=i[r];void 0!==n&&2==n.length&&(-1==t.indexOf(n[0])&&t.push(n[0]),o.blocks[n[0]][n[1]].deleted=1,s.push(o.blocks[n[0]][n[1]]))}var c=MainHex.ct;if(c-o.lastCombo<settings.comboTime){settings.comboTime=1/settings.creationSpeedModifier*(waveone.nextGen/16.666667)*3,o.comboMultiplier+=1,o.lastCombo=c;var a=findCenterOfBlocks(s);o.texts.push(new Text(a.x,a.y,"x "+o.comboMultiplier.toString(),"bold Q","#fff",fadeUpAndOut))}else settings.comboTime=240,o.lastCombo=c,o.comboMultiplier=1;var d=i.length*i.length*o.comboMultiplier;o.texts.push(new Text(o.x,o.y,"+ "+d.toString(),"bold Q ",s[0].color,fadeUpAndOut)),o.lastColorScored=s[0].color,score+=d}}