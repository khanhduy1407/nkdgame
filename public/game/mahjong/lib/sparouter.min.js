window.sparouter=function(){function t(t){this.message=t,this.toString=function(){}}function e(t,e){this.newurl=t,this.oldurl=e,this.pagesListeners={}}return e.prototype.changePage=function(t){this.allPagesInvisible(),this.showPage(t)},e.prototype.showPage=function(t){this.page(t).style.display="block"},e.prototype.hidePage=function(t){this.page(t).style.display="none"},e.prototype.page=function(t){return window.document.querySelector("div[data-page="+t+"]")},e.prototype.allPagesInvisible=function(){for(var t=window.document.querySelectorAll("div[data-page]"),e=0;e<t.length;e++)t[e].style.display="none"},e.prototype.onpage=function(t,e){return this.pagesListeners[t]=e,this},e.prototype.init=function(t){return this.initpage=t(),this},e.prototype.start=function(){var e=this;!function(){this.initpage?window.location.replace("#"+this.initpage()):function(){var e=window.document.querySelectorAll("div[data-page]");if(!(e.length>0))throw new t("No div[data-page] elements exist in the HTML");var n=e[0].getAttribute("data-page");window.location.replace("#"+n)}()}(),function(){for(var t=window.document.querySelectorAll("a[href^='#']"),n=0;n<t.length;n++)new FastButton(t[n],function(t){t.preventDefault();var n=this.getAttribute("href"),o=this.getAttribute("data-page-options"),i=this.getAttribute("data-transition-effect");e.goToHash=n,e.options=o,e.transitionEffect=i,window.location.hash=n})}(),function(){for(var t=window.document.querySelectorAll("a[data-back]"),n=0;n<t.length;n++)o(t[n]);function o(t){new FastButton(t,function(n){n.preventDefault();var o=this.getAttribute("data-page-options"),i=this.getAttribute("data-transition-effect"),a=t.getAttribute("data-back");if(""!==a){var s=parseInt(a);e.options=o,e.transitionEffect=i,e.backLinkPressed=!0,history.go(s)}})}}(),window.onhashchange=function(t){if(console.log("onhashchange: ",+document.location+", hash:"+document.location.hash+", oldurl:"+t.oldURL+", newurl:"+t.newURL+", state: "+JSON.stringify(t.state)),t.preventDefault(),!0!==e.backLinkPressed&&document.location.hash!==e.goToHash){console.log("back button pressed!");var n=t.oldURL.indexOf("#");if(-1!==n){var o=t.oldURL.substring(n+1),i=window.document.querySelector("div[data-page='"+o+"']");null!==i&&(e.options=i.getAttribute("data-back-options"))}}var a;e.backLinkPressed=!1,function(t){return e.pagesListeners[t]}(a=document.location.hash.substring(1))?function(t){var n=(0,e.pagesListeners[t])({hash:t,effect:null,options:e.options});n&&e.changePage(n)}(a):e.changePage(a)}},new e}();