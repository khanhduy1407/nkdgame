!function(){function t(t,e,s,i){if(t.addEventListener)return t.addEventListener(e,s,i),{destroy:function(){t.removeEventListener(e,s,i)}};var n=function(t){s.handleEvent(window.event,s)};return t.attachEvent("on"+e,n),{destroy:function(){t.detachEvent("on"+e,n)}}}var e="ontouchstart"in window;this.FastButton=function(s,i,n){this.events=[],this.touchEvents=[],this.element=s,this.handler=i,this.useCapture=n,e&&this.events.push(t(s,"touchstart",this,this.useCapture)),this.events.push(t(s,"click",this,this.useCapture))},this.FastButton.prototype.destroy=function(){for(i=this.events.length-1;i>=0;i-=1)this.events[i].destroy();this.events=this.touchEvents=this.element=this.handler=this.fastButton=null},this.FastButton.prototype.handleEvent=function(t){switch(t.type){case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":case"click":this.onClick(t)}},this.FastButton.prototype.onTouchStart=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.touchEvents.push(t(this.element,"touchend",this,this.useCapture)),this.touchEvents.push(t(document.body,"touchmove",this,this.useCapture)),this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY},this.FastButton.prototype.onTouchMove=function(t){(Math.abs(t.touches[0].clientX-this.startX)>10||Math.abs(t.touches[0].clientY-this.startY)>10)&&this.reset()},this.FastButton.prototype.onClick=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.reset();var e=this.handler.call(this.element,t);return"touchend"==t.type&&clickbuster.preventGhostClick(this.startX,this.startY),e},this.FastButton.prototype.reset=function(){for(i=this.touchEvents.length-1;i>=0;i-=1)this.touchEvents[i].destroy();this.touchEvents=[]},this.clickbuster=function(){},this.clickbuster.preventGhostClick=function(t,e){clickbuster.coordinates.push(t,e),window.setTimeout(clickbuster.pop,2500)},this.clickbuster.pop=function(){clickbuster.coordinates.splice(0,2)},this.clickbuster.onClick=function(t){for(var e=0;e<clickbuster.coordinates.length;e+=2){var s=clickbuster.coordinates[e],i=clickbuster.coordinates[e+1];Math.abs(t.clientX-s)<25&&Math.abs(t.clientY-i)<25&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1)}},e&&(document.addEventListener("click",clickbuster.onClick,!0),clickbuster.coordinates=[])}();